<mxfile host="Electron" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/26.0.9 Chrome/128.0.6613.186 Electron/32.2.5 Safari/537.36" version="26.0.9">
  <diagram name="Page-1" id="XAUDgXSDWRkTlIAj7UVh">
    <mxGraphModel dx="780" dy="496" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="1c0FbJWyihWgaEozjTya-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="1c0FbJWyihWgaEozjTya-1" target="1c0FbJWyihWgaEozjTya-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1c0FbJWyihWgaEozjTya-1" value="start" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="580" y="90" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="1c0FbJWyihWgaEozjTya-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="1c0FbJWyihWgaEozjTya-2" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="625" y="220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1c0FbJWyihWgaEozjTya-2" value="payload = consumeFromKafka()" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="521.25" y="170" width="207.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1c0FbJWyihWgaEozjTya-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="1c0FbJWyihWgaEozjTya-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="625" y="310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1c0FbJWyihWgaEozjTya-3" value="order3pl = db.D3plOrder.query(x =&amp;gt;&amp;nbsp;&lt;div&gt;x.SagaId = payload.SagaId)&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="470.62" y="230" width="308.75" height="50" as="geometry" />
        </mxCell>
        <mxCell id="1c0FbJWyihWgaEozjTya-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="1c0FbJWyihWgaEozjTya-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="625" y="370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1c0FbJWyihWgaEozjTya-4" value="order3pl.SetCompensated()" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="470" y="320" width="309.37" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1c0FbJWyihWgaEozjTya-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="1c0FbJWyihWgaEozjTya-5" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="625" y="430" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1c0FbJWyihWgaEozjTya-5" value="db.D3plOrder.update(order3pl)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="470.62" y="380" width="309.37" height="30" as="geometry" />
        </mxCell>
        <mxCell id="1c0FbJWyihWgaEozjTya-6" value="end" style="ellipse;whiteSpace=wrap;html=1;fillColor=#0050ef;fontColor=#ffffff;strokeColor=#001DBC;" parent="1" vertex="1">
          <mxGeometry x="579.6800000000001" y="440" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="1c0FbJWyihWgaEozjTya-12" value="&lt;div&gt;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &quot;ReferenceNo&quot;: &quot;MIRAKLKK20250210-1425-MINDTEST&quot;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &quot;TrackingNo&quot;: null,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &quot;AWBName&quot;: null,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &quot;IsInvalidDynamicSelection&quot;: true,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &quot;IsInvalidStruckChecker&quot;: false,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &quot;Bu&quot;: {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;BuCode&quot;: &quot;CDS&quot;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;ShortName&quot;: &quot;CENTRAL&quot;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; },&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &quot;Publisher&quot;: &quot;tms-3pl&quot;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &quot;SagaId&quot;: &quot;89e0f98cc7098beef9f8a927b51c2d0c&quot;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &quot;Environment&quot;: &quot;Sit&quot;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &quot;EventName&quot;: &quot;ShipmentCreatedEvent&quot;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &quot;DomainStatus&quot;: &quot;CANCELLED&quot;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &quot;ProviderCode&quot;: &quot;3PLP&quot;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &quot;Username&quot;: &quot;TMSSystem&quot;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &quot;FailureMessages&quot;: [&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;ไม่พบข้อมูล 3PL ที่ตรงตามเงื่อนไข Weight ในระบบ&quot;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; ],&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &quot;Id&quot;: &quot;066c77c4-667b-4a4b-81c9-099a911c3888&quot;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &quot;CreationDate&quot;: &quot;2025-02-10T07:26:43.2906804Z&quot;&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="80" y="130" width="340" height="340" as="geometry" />
        </mxCell>
        <mxCell id="1c0FbJWyihWgaEozjTya-14" value="&lt;font style=&quot;font-size: 19px;&quot;&gt;Input:&amp;nbsp;ShipmentCreatedEvent&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="285" y="50" width="270" height="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
